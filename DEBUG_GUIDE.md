# ğŸ› æ”¶è—åŠŸèƒ½è°ƒè¯•æŒ‡å—

## é—®é¢˜ç°çŠ¶

- âŒ VideoDetail é¡µé¢æ— æ³•å–æ¶ˆæ”¶è—
- âŒ Profile é¡µé¢æ— æ³•åˆ é™¤æ”¶è—

## ğŸ” è°ƒè¯•æ­¥éª¤

### ç¬¬ä¸€æ­¥:æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·

1. åœ¨æµè§ˆå™¨ä¸­æŒ‰ `F12` æˆ–å³é”®ç‚¹å‡» â†’ "æ£€æŸ¥"
2. åˆ‡æ¢åˆ° **Console(æ§åˆ¶å°)** æ ‡ç­¾é¡µ
3. æ¸…ç©ºæ§åˆ¶å°(ç‚¹å‡» ğŸš« å›¾æ ‡)

### ç¬¬äºŒæ­¥:æµ‹è¯• VideoDetail é¡µé¢å–æ¶ˆæ”¶è—

1. æ‰“å¼€è§†é¢‘è¯¦æƒ…é¡µ: `http://localhost:5173/video/201`
2. è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º,åº”è¯¥çœ‹åˆ°:

   ```
   ğŸ“š useBookmarks Hook åˆå§‹åŒ–
     - videoId: 201 ç±»å‹: number
     - normalizedVideoId: 201
   ğŸ”„ useBookmarks åˆå§‹åŒ– useEffect æ‰§è¡Œ
     - åŠ è½½çš„æ”¶è—æ•°é‡: X
     - æ£€æŸ¥ videoId 201 æ˜¯å¦å·²æ”¶è—: true/false
   ğŸ‘‚ è®¾ç½® storage äº‹ä»¶ç›‘å¬å™¨
   ```

3. ç‚¹å‡»"å·²æ”¶è—"æŒ‰é’®
4. åœ¨ç¡®è®¤å¯¹è¯æ¡†ä¸­ç‚¹å‡»"ç¡®å®š"
5. **å…³é”®**: è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º,åº”è¯¥çœ‹åˆ°:

   ```
   ğŸ—‘ï¸ removeBookmark è¢«è°ƒç”¨
     - ç›®æ ‡ videoId: 201 ç±»å‹: number
     - å½“å‰ normalizedVideoId: 201
     - æ ‡å‡†åŒ–åçš„ targetId: 201
     - åˆ é™¤å‰çš„æ”¶è—æ•°é‡: X
     - åˆ é™¤å‰çš„æ”¶è—åˆ—è¡¨: [...]
     - æ‰¾åˆ°åŒ¹é…é¡¹,å°†è¢«åˆ é™¤: {...}
     - åˆ é™¤åçš„æ”¶è—æ•°é‡: X-1
     - æ˜¯å¦æœ‰å˜åŒ–: true
     - å·²ä¿å­˜åˆ° localStorage
     - å·²è§¦å‘ storage äº‹ä»¶
     - æ›´æ–° isBookmarked ä¸º false
   âœ… removeBookmark æ‰§è¡ŒæˆåŠŸ
   ```

6. ç„¶ååº”è¯¥çœ‹åˆ°:
   ```
   ğŸ”” æ”¶åˆ° storage äº‹ä»¶
     - é‡æ–°åŠ è½½çš„æ”¶è—æ•°é‡: X-1
     - æ›´æ–° isBookmarked ä¸º: false
   ```

### ç¬¬ä¸‰æ­¥:æµ‹è¯• Profile é¡µé¢åˆ é™¤

1. æ‰“å¼€ä¸ªäººä¸­å¿ƒé¡µé¢: `http://localhost:5173/profile`
2. è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º
3. ç‚¹å‡»ä»»æ„æ”¶è—å¡ç‰‡çš„åˆ é™¤æŒ‰é’®(åƒåœ¾æ¡¶å›¾æ ‡)
4. ç¡®è®¤åˆ é™¤
5. **å…³é”®**: è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º,åº”è¯¥çœ‹åˆ°:
   ```
   ğŸ—‘ï¸ removeBookmarkById è¢«è°ƒç”¨
     - ç›®æ ‡ id: XXXXX ç±»å‹: number/string
     - æ ‡å‡†åŒ–åçš„ id: XXXXX
     - åˆ é™¤å‰çš„æ”¶è—æ•°é‡: X
     - åˆ é™¤å‰çš„æ”¶è—åˆ—è¡¨: [...]
     - æ‰¾åˆ°åŒ¹é…é¡¹,å°†è¢«åˆ é™¤: {...}
     - åˆ é™¤åçš„æ”¶è—æ•°é‡: X-1
     - æ˜¯å¦æœ‰å˜åŒ–: true
     - å·²ä¿å­˜åˆ° localStorage
     - å·²è§¦å‘ storage äº‹ä»¶
   âœ… removeBookmarkById æ‰§è¡ŒæˆåŠŸ
   ```

## ğŸš¨ å¯èƒ½çš„é—®é¢˜åœºæ™¯

### åœºæ™¯ 1: å‡½æ•°æ ¹æœ¬æ²¡æœ‰è¢«è°ƒç”¨

**ç—‡çŠ¶**: ç‚¹å‡»æŒ‰é’®å,æ§åˆ¶å°æ²¡æœ‰ä»»ä½• "ğŸ—‘ï¸ removeBookmark è¢«è°ƒç”¨" çš„æ—¥å¿—

**å¯èƒ½åŸå› **:

- onClick äº‹ä»¶æ²¡æœ‰æ­£ç¡®ç»‘å®š
- æŒ‰é’®è¢«å…¶ä»–å…ƒç´ é®æŒ¡
- äº‹ä»¶å†’æ³¡è¢«é˜»æ­¢

**è§£å†³æ–¹æ³•**: æ£€æŸ¥ VideoDetail.jsx å’Œ Profile.jsx ä¸­çš„æŒ‰é’®ç»‘å®š

### åœºæ™¯ 2: å‡½æ•°è¢«è°ƒç”¨ä½†æ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹

**ç—‡çŠ¶**: çœ‹åˆ° "ğŸ—‘ï¸ removeBookmark è¢«è°ƒç”¨" ä½†æ²¡æœ‰ "æ‰¾åˆ°åŒ¹é…é¡¹,å°†è¢«åˆ é™¤"

**å¯èƒ½åŸå› **:

- videoId ç±»å‹ä¸åŒ¹é…
- localStorage ä¸­çš„æ•°æ®ç»“æ„ä¸å¯¹
- ID å€¼ä¸ä¸€è‡´

**è§£å†³æ–¹æ³•**:

1. æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºçš„ videoId å’Œæ”¶è—åˆ—è¡¨ä¸­çš„ videoId æ˜¯å¦ä¸€è‡´
2. è¿è¡Œæµ‹è¯•å·¥å…·æ¸…æ´—æ•°æ®: `http://localhost:5173/test-bookmarks.html`

### åœºæ™¯ 3: åˆ é™¤æˆåŠŸä½† UI æ²¡æœ‰æ›´æ–°

**ç—‡çŠ¶**: çœ‹åˆ° "âœ… removeBookmark æ‰§è¡ŒæˆåŠŸ" ä½†æŒ‰é’®çŠ¶æ€æ²¡å˜

**å¯èƒ½åŸå› **:

- storage äº‹ä»¶æ²¡æœ‰è§¦å‘
- storage äº‹ä»¶ç›‘å¬å™¨æ²¡æœ‰è®¾ç½®
- React çŠ¶æ€æ›´æ–°è¢«é˜»æ­¢

**è§£å†³æ–¹æ³•**: æ£€æŸ¥æ˜¯å¦çœ‹åˆ° "ğŸ”” æ”¶åˆ° storage äº‹ä»¶"

### åœºæ™¯ 4: localStorage æ›´æ–°å¤±è´¥

**ç—‡çŠ¶**: çœ‹åˆ°åˆ é™¤æ—¥å¿—ä½† localStorage æ²¡æœ‰å˜åŒ–

**å¯èƒ½åŸå› **:

- saveBookmarks å‡½æ•°å‡ºé”™
- localStorage æƒé™é—®é¢˜
- æµè§ˆå™¨éšç§æ¨¡å¼

**è§£å†³æ–¹æ³•**:

1. åœ¨æ§åˆ¶å°è¿è¡Œ: `console.log(localStorage.getItem('user_assets'))`
2. æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

## ğŸ“ è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯

å¦‚æœåŠŸèƒ½ä»ç„¶ä¸å·¥ä½œ,è¯·æˆªå›¾æˆ–å¤åˆ¶ä»¥ä¸‹å†…å®¹:

1. **å®Œæ•´çš„æ§åˆ¶å°æ—¥å¿—** (ä»æ‰“å¼€é¡µé¢åˆ°ç‚¹å‡»æŒ‰é’®çš„æ‰€æœ‰è¾“å‡º)
2. **localStorage å†…å®¹**:
   ```javascript
   // åœ¨æ§åˆ¶å°è¿è¡Œ
   console.log(JSON.parse(localStorage.getItem("user_assets")));
   ```
3. **é”™è¯¯ä¿¡æ¯** (å¦‚æœæœ‰çº¢è‰²çš„é”™è¯¯æç¤º)

## ğŸ› ï¸ å¿«é€Ÿæµ‹è¯•å‘½ä»¤

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå¿«é€Ÿæµ‹è¯•:

```javascript
// 1. æŸ¥çœ‹å½“å‰æ”¶è—
console.log("å½“å‰æ”¶è—:", JSON.parse(localStorage.getItem("user_assets")));

// 2. æ‰‹åŠ¨åˆ é™¤ç¬¬ä¸€ä¸ªæ”¶è—
const bookmarks = JSON.parse(localStorage.getItem("user_assets") || "[]");
if (bookmarks.length > 0) {
  const updated = bookmarks.slice(1);
  localStorage.setItem("user_assets", JSON.stringify(updated));
  window.dispatchEvent(new Event("storage"));
  console.log("æ‰‹åŠ¨åˆ é™¤æˆåŠŸ,å‰©ä½™:", updated.length);
}

// 3. æ¸…ç©ºæ‰€æœ‰æ”¶è—
localStorage.setItem("user_assets", "[]");
window.dispatchEvent(new Event("storage"));
console.log("å·²æ¸…ç©ºæ‰€æœ‰æ”¶è—");
```

## ä¸‹ä¸€æ­¥

æ ¹æ®æ§åˆ¶å°çš„è¾“å‡º,æˆ‘ä»¬å¯ä»¥ç²¾ç¡®å®šä½é—®é¢˜æ‰€åœ¨ã€‚è¯·æ‰§è¡Œä¸Šè¿°è°ƒè¯•æ­¥éª¤å¹¶æä¾›æ—¥å¿—ä¿¡æ¯!
