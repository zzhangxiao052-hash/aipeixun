# 视频推荐系统业务流程说明书

本文档详细阐述了 AI 培训平台“推荐视频”模块的业务逻辑、算法标准及用户匹配策略。

## 1. 核心理念

本系统的推荐逻辑基于 **“知识图谱 + 用户画像”** 双引擎驱动，旨在为政府/企业用户提供精准的 AI 技能提升路径，而非单纯的娱乐化推荐。我们遵循 **“i+1”学习理论**，即推荐的内容应略高于用户当前水平，以促进能力提升。

---

## 2. 推荐逻辑拆解

### 2.1 为什么要推荐这个视频？ (Item-to-Item 内容关联)

当用户正在观看视频 A 时，我们推荐视频 B 的理由如下：

1.  **知识点强关联 (Knowledge Graph)**
    - **逻辑**：视频 A 和 B 包含相同的核心知识点标签。
    - _例子_：当前观看《DeepSeek 公文写作》，系统推荐《Prompt 提示词进阶指南》。因为两者都属于“大模型应用”知识域。
2.  **场景同构 (Scenario Matching)**
    - **逻辑**：视频 A 和 B 解决的是同一类业务场景问题。
    - _例子_：当前观看《会议纪要自动生成》，推荐《政策文件智能解读》。两者都服务于“办公效率”场景。
3.  **系列课程延续 (Sequential Learning)**
    - **逻辑**：视频 B 是视频 A 的后续章节，或者属于同一个课程包。
    - _例子_：看完《Python 基础语法》，自动推荐《Python 数据分析实战》。

### 2.2 根据什么标准来推荐？ (Scoring Model 评分标准)

系统会对候选视频池中的视频进行打分，**总分 = Σ (维度分值 × 权重)**。

| 维度           | 权重 | 评分标准说明                                                                     |
| :------------- | :--- | :------------------------------------------------------------------------------- |
| **内容相似度** | 40%  | 标签重合度越高，得分越高。                                                       |
| **视频质量分** | 30%  | **完播率** (最重要) > 收藏率 > 点赞率 > 播放量。完播率代表了课程的实际教学价值。 |
| **时效性**     | 20%  | AI 技术更新快，发布时间在 3 个月内的视频会有“新课扶持”加分。                     |
| **难度匹配度** | 10%  | 遵循难度阶梯。若当前视频为 L1(入门)，优先推荐 L1 或 L2(进阶)，不推荐 L3(专家)。  |

### 2.3 为什么推给这个用户？ (User-to-Item 个性化匹配)

除了视频本身的相关性，我们还结合**当前用户 (User Context)** 的特征进行重排序：

1.  **职能角色匹配 (Role-Based)**
    - **逻辑**：根据用户的部门和职位标签进行加权。
    - _例子_：
      - 用户是 **“办公室主任”** → 强推公文润色、日程管理类视频。
      - 用户是 **“数据科员”** → 强推 Excel 数据清洗、可视化报表类视频。
2.  **学习短板补齐 (Skill Gap Analysis)**
    - **逻辑**：结合“实战任务”数据。如果用户在“Prompt 编写”类的实战任务中得分较低，系统会**强制提升**相关补习视频的推荐权重。
3.  **历史行为反馈 (Behavioral History)**
    - **断点续传**：用户曾点击但未看完（进度 < 80%）的相关视频，优先推荐，提示“继续学习”。
    - **收藏未看**：用户已收藏但尚未学习的视频，权重提升。

---

## 3. 业务流程图

```mermaid
graph TD
    User[用户进入视频详情页] --> Context[获取上下文信息]
    Context --> |当前视频ID| ContentEngine[内容召回引擎]
    Context --> |用户ID| UserProfile[用户画像引擎]

    subgraph 召回阶段 [Step 1: 粗排召回]
    ContentEngine --> |标签/分类/系列| Candidates[候选视频池 (约50个)]
    end

    subgraph 排序阶段 [Step 2: 精排打分]
    Candidates --> Scorer[评分模型]
    UserProfile --> |职能/兴趣/短板| Scorer
    Scorer --> |计算总分| RankedList[排序后的列表]
    end

    subgraph 过滤阶段 [Step 3: 规则过滤]
    RankedList --> Filter1{是否已看过?}
    Filter1 -- 是 --> Remove1[移除]
    Filter1 -- 否 --> Filter2{是否过期/下架?}
    Filter2 -- 是 --> Remove2[移除]
    Filter2 -- 否 --> FinalList[最终推荐列表 (Top 5)]
    end

    FinalList --> UI[前端展示]
```

## 4. 特殊策略 (冷启动)

- **新用户 (无历史数据)**：
  - 策略：推荐 **“必修通识课”** + **“全站高分榜”**。
  - 内容：AI 安全保密意识、大模型基础概念、数字化转型政策解读。
- **新视频 (无交互数据)**：
  - 策略：给予 **“新品流量池”** 曝光机会。在推荐列表中随机插入 1 个新发布的视频，测试其点击率（CTR）。

## 5. 总结

我们的推荐系统不仅仅是“猜你喜欢”，更是**“助你成长”**。它结合了**业务相关性**（帮用户解决工作问题）和**能力进阶路径**（帮用户提升技能），是 AI 培训平台智能化的核心体现。
